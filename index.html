<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Blackjack Sims</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main>
    <h1>Blackjack Simulator</h1>

    <section class="grid">
      <div class="card">
        <h2>Game parameters</h2>
        <label>Number of decks <input id="decks" type="number" min="1" max="8" value="6"></label>
        <label>Dealer hits soft 17 <select id="ds17"><option value="false">No (Stand)</option><option value="true">Yes (Hit)</option></select></label>
        <label>Payout <select id="payout"><option value="1.5">3:2</option><option value="1.2">6:5</option></select></label>
        <label>Penetration (shuffle when shoe remaining &lt; %) <input id="penetration" type="number" min="10" max="100" value="25"></label>
      </div>

      <div class="card">
        <h2>Bet & bankroll</h2>
        <label>Minimum bet <input id="minBet" type="number" min="1" value="5"></label>
        <label>Starting bet <input id="startBet" type="number" min="1" value="5"></label>
        <label>Table limit <input id="tableLimit" type="number" min="1" value="1000"></label>
        <label>Starting bankroll <input id="bankroll" type="number" min="0" value="1000"></label>
        <label>Max total loss (stop-loss) <input id="maxLoss" type="number" min="0" value="1000"></label>
      </div>

      <div class="card">
        <h2>Simulation</h2>
        <label>Hands per simulation <input id="handsPerSim" type="number" min="1" value="1000"></label>
        <label>Number of simulations <input id="sims" type="number" min="1" value="1000"></label>
        <label>Concurrency (workers) <input id="workers" type="number" min="1" max="8" value="2"></label>
      </div>

      <div class="card">
        <h2>Betting system</h2>
        <label>System <select id="betSystem">
          <option value="flat">Flat (fixed)</option>
          <option value="martingale">Martingale (double after loss)</option>
          <option value="triple-martingale">Triple Martingale (triple after loss)</option>
          <option value="reverse-martingale">Reverse Martingale (increase after win)</option>
          <option value="proportional">Proportional (% of bankroll)</option>
          <option value="kelly">Kelly fraction (basic)</option>
          <option value="count-based">Count-based (Hi-Lo)</option>
        </select></label>
        <label>Proportional % <input id="propPct" type="number" min="0" max="100" value="1"></label>
        <label>Kelly fraction (0-1) <input id="kellyFrac" type="number" min="0" max="1" step="0.01" value="0.1"></label>
        <label>Max bet multiplier for count-based <input id="countMult" type="number" min="1" value="4"></label>
        <label>Reset to min after wins? <input id="resetOnWin" type="checkbox" checked></label>
        <label>Reset after consecutive losses <input id="resetAfterLosses" type="number" min="0" value="0"></label>
      </div>

      <div class="card">
        <h2>Card counting</h2>
        <label>Enable counting <input id="enableCount" type="checkbox"></label>
        <label>Count system <select id="countSystem">
          <option value="hi-lo">Hi-Lo</option>
        </select></label>
        <label>Use true count (normalize) <input id="useTrueCount" type="checkbox" checked></label>
      </div>
    </section>

    <div class="controls">
      <button id="start">Start Simulation</button>
      <button id="stop" disabled>Stop</button>
    </div>

    <section class="results card">
      <h2>Results</h2>
      <div id="progress">Idle</div>
      <pre id="output"></pre>
    </section>
  </main>
  <script src="js/app.js"></script>
</body>
</html>
